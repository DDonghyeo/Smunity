{% extends 'base.html' %}
{% load static %}
{% block css %}
    <link rel="stylesheet" href="{% static 'css/head.css' %}">
{% endblock %}
{% block main_area %}
    <div class="bg_wrapper">
        <!-- 메인 -->
        <header class="main_bg">
            <!-- 소개 문구 -->
            <div class="bg_text_btn">
                <div class="bg_small_text fadein_text" style="letter-spacing:1px;">
                    상명대 졸업요건 검사 사이트
                </div>
                <div class="bg_big_text fadein_text" style="letter-spacing:8px;">
                    SMUNITY
                </div>
                <div class="bg_btn">
                    <button class="bg_btn_style" onclick="location.href={% url 'core:mypage' %}">검사하기</button>
                </div>
            </div>
        </header>
    </div>
    <!-- 업데이트 공지 -->
    <div id='myModal' class="modal" style="display: none;">
        <div class="modal-content">
            <span id='dd' class="close" style="font-size:3rem;">&times;</span>
            <div class='popup_content'>
                <div class='popup_title'>
                    공지사항
                </div>
                <div class='popup_box'>
                    <ul>
                        <li></li>
                        <li></li>
                        <li></li>
                        <hr style='border: 0.001px solid rgb(230, 230, 230); margin:1rem 0 1rem 0; width:85%'>
                        <li>
                            <b>version 1.0.2 업데이트 내용</b>&nbsp;&nbsp;
                            <a class="link_site" target="_blank" href="https://github.com/hyunmin0317/smunity/blob/master/version.md">버전 기록 보기</a>
                        </li>
                    </ul>
                </div>
                <div class="popup_check">
                    <label style='cursor:pointer'>
                        <input id='unlook' type="checkbox" style='width:1rem; height:1rem;'>
                        <label for='unlook'></label>
                        &nbsp;다음 공지까지 보지 않기
                    </label>

                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block js %}
    <script>
    // 쿠키 여부에 따라 모달창 렌더링
    var unlook_cookie = document.cookie.match('(^|;) ?' + 'is_unlook_0206' + '=([^;]*)(;|$)');
    if (unlook_cookie == null) {
        document.getElementById('myModal').style.display = 'block';
    }

    // 모달 창 끄기 + 다시 보지 않음 쿠키 설정
    var Spanclick_set_cookie = function (x, y) {
        x.onclick = function () {
            y.style.display = "none";
            var chk = document.getElementById('unlook');
            // 체크하고 누르면 쿠키 생성
            if (chk.checked) {
                var date = new Date();
                date.setTime(date.getTime() + 60 * 24 * 60 * 60 * 1000);
                document.cookie = 'is_unlook_0206' + '=' + 'unlook' + ';expires=' + date.toUTCString() + ';path=/';
            }
        }
    }
    window.onclick = function (event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }

    var modal = document.getElementById('myModal');
    var span = document.getElementsByClassName("close")[0];

    Spanclick_set_cookie(span, modal);
</script>
{% endblock %}